function cov_bxc2kjtqx(){var path="/home/aemass/Desktop/khreadcross/middleware/auth.js";var hash="5509d67722d24435dd092d091ab1fb03b5ffe4a0";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/aemass/Desktop/khreadcross/middleware/auth.js",statementMap:{"0":{start:{line:2,column:4},end:{line:8,column:5}},"1":{start:{line:4,column:8},end:{line:4,column:22}},"2":{start:{line:7,column:8},end:{line:7,column:38}},"3":{start:{line:11,column:0},end:{line:11,column:30}}},fnMap:{"0":{name:"requireLogin",decl:{start:{line:1,column:9},end:{line:1,column:21}},loc:{start:{line:1,column:38},end:{line:9,column:1}},line:1}},branchMap:{"0":{loc:{start:{line:2,column:4},end:{line:8,column:5}},type:"if",locations:[{start:{line:2,column:4},end:{line:8,column:5}},{start:{line:2,column:4},end:{line:8,column:5}}],line:2},"1":{loc:{start:{line:2,column:8},end:{line:2,column:42}},type:"binary-expr",locations:[{start:{line:2,column:8},end:{line:2,column:19}},{start:{line:2,column:23},end:{line:2,column:42}}],line:2}},s:{"0":0,"1":0,"2":0,"3":0},f:{"0":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5509d67722d24435dd092d091ab1fb03b5ffe4a0"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_bxc2kjtqx=function(){return actualCoverage;};}return actualCoverage;}cov_bxc2kjtqx();function requireLogin(req,res,next){cov_bxc2kjtqx().f[0]++;cov_bxc2kjtqx().s[0]++;if((cov_bxc2kjtqx().b[1][0]++,req.session)&&(cov_bxc2kjtqx().b[1][1]++,req.session.user_id)){cov_bxc2kjtqx().b[0][0]++;cov_bxc2kjtqx().s[1]++;// The user has logged in, continue to execute the next middleware or route handler
return next();}else{cov_bxc2kjtqx().b[0][1]++;cov_bxc2kjtqx().s[2]++;// The user is not logged in, redirected to the login page or other processing methods
return res.redirect('/login');}}cov_bxc2kjtqx().s[3]++;module.exports=requireLogin;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfYnhjMmtqdHF4IiwiYWN0dWFsQ292ZXJhZ2UiLCJyZXF1aXJlTG9naW4iLCJyZXEiLCJyZXMiLCJuZXh0IiwiZiIsInMiLCJiIiwic2Vzc2lvbiIsInVzZXJfaWQiLCJyZWRpcmVjdCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJhdXRoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIHJlcXVpcmVMb2dpbihyZXEsIHJlcywgbmV4dCkge1xuICAgIGlmIChyZXEuc2Vzc2lvbiAmJiByZXEuc2Vzc2lvbi51c2VyX2lkKSB7XG4gICAgICAgIC8vIFRoZSB1c2VyIGhhcyBsb2dnZWQgaW4sIGNvbnRpbnVlIHRvIGV4ZWN1dGUgdGhlIG5leHQgbWlkZGxld2FyZSBvciByb3V0ZSBoYW5kbGVyXG4gICAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVGhlIHVzZXIgaXMgbm90IGxvZ2dlZCBpbiwgcmVkaXJlY3RlZCB0byB0aGUgbG9naW4gcGFnZSBvciBvdGhlciBwcm9jZXNzaW5nIG1ldGhvZHNcbiAgICAgICAgcmV0dXJuIHJlcy5yZWRpcmVjdCgnL2xvZ2luJyk7XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmVMb2dpbjsiXSwibWFwcGluZ3MiOiI2MUNBZVk7QUFBQUEsYUFBQSxTQUFBQSxDQUFBLFNBQUFDLGNBQUEsV0FBQUEsY0FBQSxFQUFBRCxhQUFBLEdBZlosUUFBUyxDQUFBRSxZQUFZQSxDQUFDQyxHQUFHLENBQUVDLEdBQUcsQ0FBRUMsSUFBSSxDQUFFLENBQUFMLGFBQUEsR0FBQU0sQ0FBQSxNQUFBTixhQUFBLEdBQUFPLENBQUEsTUFDbEMsR0FBSSxDQUFBUCxhQUFBLEdBQUFRLENBQUEsU0FBQUwsR0FBRyxDQUFDTSxPQUFPLElBQUFULGFBQUEsR0FBQVEsQ0FBQSxTQUFJTCxHQUFHLENBQUNNLE9BQU8sQ0FBQ0MsT0FBTyxFQUFFLENBQUFWLGFBQUEsR0FBQVEsQ0FBQSxTQUFBUixhQUFBLEdBQUFPLENBQUEsTUFDcEM7QUFDQSxNQUFPLENBQUFGLElBQUksQ0FBQyxDQUFDLENBQ2pCLENBQUMsSUFBTSxDQUFBTCxhQUFBLEdBQUFRLENBQUEsU0FBQVIsYUFBQSxHQUFBTyxDQUFBLE1BQ0g7QUFDQSxNQUFPLENBQUFILEdBQUcsQ0FBQ08sUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUNqQyxDQUNKLENBQUNYLGFBQUEsR0FBQU8sQ0FBQSxNQUVESyxNQUFNLENBQUNDLE9BQU8sQ0FBR1gsWUFBWSJ9